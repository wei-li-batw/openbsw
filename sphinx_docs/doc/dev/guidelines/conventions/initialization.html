<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="EclipseOpenBSWDocumentation" name="dox_trace_storage" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Initialization &mdash; Eclipse OpenBSW Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/rtd_theme_overrides.css?v=6fd0d55b" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/colors.css?v=3cafd8aa" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/colored_table.css?v=34b816d5" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/header.css?v=e632285e" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/dox_util_colors.css?v=dd14b177" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/dox_trace.css?v=60d3f72c" />

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../../_static/copybutton.js?v=f281be69"></script>
        <script src="../../../../_static/dox_trace.js?v=40719b51"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Low Level Interfaces" href="interfaces.html" />
    <link rel="prev" title="Functions" href="functions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Eclipse OpenBSW Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../learning/overview.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../learning/SysTest/HW_Testing_Guide.html">Hardware Testing Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guidelines</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Coding Conventions</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="classes.html">Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="comments.html">Comments</a></li>
<li class="toctree-l2"><a class="reference internal" href="constants.html">Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="disallowed.html">Disallowed Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="enumerations.html">Enumerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="files.html">Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="functions.html">Functions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Initialization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#direct-initialization">Direct Initialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#list-initialization">List Initialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#value-initialization">Value Initialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#non-static-data-member-initialization-nsdmi">Non-static Data Member Initialization (NSDMI)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="interfaces.html">Low Level Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespaces.html">Namespaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="naming.html">Naming Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="statements.html">Statements and Expressions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../practices.html">Coding Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../formatting/index.html">Formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unittests.html">Unit Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module.html">Module Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../documentation.html">Module Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../diagrams.html">Diagrams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3rdparty.html">Third Party Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commit_message.html">Commit Message</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pull_request.html">Pull Request</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/posix/index.html">POSIX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/s32k148evb/index.html">S32K148 Evaluation Board</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../features/storage.html">Persistent Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../features/functional_safety.html">Functional Safety</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../modules/common.html">Common</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/posix.html">Posix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/s32k1xx.html">S32K1xx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/executables.html">Executables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/mocks.html">Mocks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/UdsTool/doc/index.html">UdsTool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/puncover_tool/doc/index.html">Puncover</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Eclipse OpenBSW Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Coding Conventions</a> &raquo;</li>
        
        <li>Initialization</li>
    

    

      <li class="wy-breadcrumbs-aside">

        <!-- DOCUMENT STATUS -->

        

        <!-- DATA CLASSIFICATION -->

        

      </li>

    
  </ul>

  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="initialization">
<h1>Initialization<a class="headerlink" href="#initialization" title="Link to this heading"></a></h1>
<div class="toctree-wrapper compound">
</div>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>There are different ways to initialize variables, objects, and data members. Mixing or misusing them
could lead to confusing results or just look confusing to the reader.</p>
<p><strong>Types of initialization cheatsheet</strong>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">x</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span><span class="w">                      </span><span class="c1">// direct initialization</span>
<span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">{</span><span class="mi">42</span><span class="p">};</span><span class="w">                      </span><span class="c1">// direct initialization (available in C++11)</span>
<span class="n">ip</span><span class="w"> </span><span class="nf">addr</span><span class="p">(</span><span class="mi">127</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w">          </span><span class="c1">// direct initialization (calling a constructor)</span>
<span class="kt">int</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span><span class="w">                     </span><span class="c1">// copy initialization</span>
<span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">42</span><span class="p">};</span><span class="w">                   </span><span class="c1">// copy initialization (available in C++11)</span>
<span class="n">xyz</span><span class="w"> </span><span class="n">pointA</span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">};</span><span class="w">            </span><span class="c1">// direct-list-initialization</span>
<span class="n">xyz</span><span class="w"> </span><span class="n">pointB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">};</span><span class="w">         </span><span class="c1">// copy-list-initialization</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">validIndices</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// direct initialization of vector with three zeros</span>

<span class="k">struct</span><span class="w"> </span><span class="nc">xyz</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span><span class="w"> </span><span class="c1">// non-static data member initialization (NSDMI)</span>

<span class="w">    </span><span class="p">...</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="direct-initialization">
<h2>Direct Initialization<a class="headerlink" href="#direct-initialization" title="Link to this heading"></a></h2>
<p>Direct initialization is the way to initialize an object from an explicit set of constructor arguments.
Variables of built-in types should be initialized only with direct initialization (unless the variable
in question is a member of a class). This way of initialization should be used by default because
it’s the least ambiguous.</p>
<p>Example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">IpAddress</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">IpAddress</span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>

<span class="w">    </span><span class="p">...</span>
<span class="p">};</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// direct initialization by calling a parameterized constructor</span>
<span class="w">    </span><span class="n">IpAddress</span><span class="w"> </span><span class="n">addr</span><span class="p">(</span><span class="mi">127</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// direct initialization for built-in types</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">multicast</span><span class="p">(</span><span class="mi">30490U</span><span class="p">);</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">port</span><span class="p">{</span><span class="mi">30501</span><span class="p">};</span>

<span class="w">    </span><span class="p">...</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>Important:</strong> Please use direct initialization with curly braces for built-in types as <em>it does
narrowing conversion checks</em> on most compilers.</p>
</section>
<section id="list-initialization">
<h2>List Initialization<a class="headerlink" href="#list-initialization" title="Link to this heading"></a></h2>
<p>It is good to use list initialization <em>as long as it leaves no data uninitialized</em>.
<strong>Partial initialization is not allowed</strong>, since it can lead to ambiguity and confusion.</p>
<p>Example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">Coordinate</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span><span class="w"> </span><span class="nc">ForecastPoint</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Coordinate</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int8_t</span><span class="w"> </span><span class="n">temperature</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// bad</span>
<span class="w">    </span><span class="n">ForecastPoint</span><span class="w"> </span><span class="n">p1</span><span class="p">{</span><span class="mi">123</span><span class="p">,</span><span class="w"> </span><span class="mi">-15</span><span class="p">};</span><span class="w"> </span><span class="c1">// warning: read as {{123, -15}, 0} by a compiler</span>

<span class="w">    </span><span class="c1">// good</span>
<span class="w">    </span><span class="n">ForecastPoint</span><span class="w"> </span><span class="n">p2</span><span class="p">{{</span><span class="mi">123</span><span class="p">,</span><span class="w"> </span><span class="mi">345</span><span class="p">},</span><span class="w"> </span><span class="mi">-15</span><span class="p">};</span>

<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="value-initialization">
<h2>Value Initialization<a class="headerlink" href="#value-initialization" title="Link to this heading"></a></h2>
<p>Avoid using value initialization. Use direct or direct-list-initialization instead.</p>
<p><em>NOTE</em>: Value initialization has been valid since C++03. An attempt to use value initialization syntax
in older versions of C++ resulting in <strong>undefined behavior</strong>.</p>
<p><strong>Rationale:</strong> It’s confusing and hard to maintain value initialization without introducing bugs
into the code.</p>
<p>Example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">Box</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
<span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">w</span><span class="p">;</span>
<span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">h</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// bad</span>

<span class="w">    </span><span class="c1">// in C++03 and later causes all members to be initialized to zero</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">zeroSizedBox</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Box</span><span class="p">();</span><span class="w"> </span><span class="c1">// uses default constructor and initializes data with zeros</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">zeroSizeBox</span><span class="p">.</span><span class="n">x</span><span class="p">;</span><span class="w"> </span><span class="c1">// OK in C++03, but undefined behavior in C++98</span>

<span class="w">    </span><span class="c1">// good</span>
<span class="w">    </span><span class="n">Box</span><span class="w"> </span><span class="n">anotherZeroSizedBox</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">};</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If someone adds a user-defined constructor to this class, then such constructor has to initialize
all the data members, otherwise it’s <strong>undefined behavior</strong>.</p>
<p>Example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">Box</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Box</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* do nothing */</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// user-defined constructor</span>

<span class="w">    </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
<span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">w</span><span class="p">;</span>
<span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">h</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// bad: user-defined constructor doesn&#39;t initialize data members</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">zeroSizedBox</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Box</span><span class="p">();</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">zeroSizedBox</span><span class="p">.</span><span class="n">x</span><span class="p">;</span><span class="w"> </span><span class="c1">// undefined behavior</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If a constructor is present in a class declaration, but marked as <em>default</em>, then the example above
will not cause undefined behavior.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">Box</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Box</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">default</span><span class="p">;</span>

<span class="w">    </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
<span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">w</span><span class="p">;</span>
<span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">h</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">zeroSizedBox</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Box</span><span class="p">();</span><span class="w"> </span><span class="c1">// initializes everything with zeros</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Warning:</strong> However, defining a constructor as default <em>after</em> the declaration makes it seen as
user-defined by the compiler, hence changing the example above to cause <strong>undefined behavior</strong>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">Box</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Box</span><span class="p">();</span>

<span class="w">    </span><span class="p">...</span>
<span class="p">};</span>

<span class="n">Box</span><span class="o">::</span><span class="n">Box</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">default</span><span class="p">;</span><span class="w"> </span><span class="c1">// seen as user-defined by a compiler</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">zeroSizedBox</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Box</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// WARNING: access to any member field leads to undefined behavior</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="non-static-data-member-initialization-nsdmi">
<h2>Non-static Data Member Initialization (NSDMI)<a class="headerlink" href="#non-static-data-member-initialization-nsdmi" title="Link to this heading"></a></h2>
<p>At all times all data members of a class should be initialized in a constructor initializer list if
such a constructor is user-defined and <em>not</em> defaulted. If the constructor of a class is not provided or
declared as default then NSDMI may take place.
<em>NOTE</em>: It’s important to know that in this case such a class is no longer
trivially constructible.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// good (NOTE: struct isn&#39;t trivial anymore)</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">Point2d</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">x</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<span class="w">    </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">y</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<span class="p">};</span>

<span class="c1">// good (same as above)</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">Point3d</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Point3d</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">default</span><span class="p">;</span>

<span class="w">    </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">x</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<span class="w">    </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">y</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<span class="w">    </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">z</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<span class="p">};</span>

<span class="c1">// good (NOTE: struct is trivial)</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">Vector2d</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// good</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">Vector3d</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Vector3d</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">inX</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">inY</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">inZ</span><span class="p">)</span>
<span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="n">x</span><span class="p">(</span><span class="n">inX</span><span class="p">)</span>
<span class="w">    </span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">(</span><span class="n">inY</span><span class="p">)</span>
<span class="w">    </span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">(</span><span class="n">inZ</span><span class="p">)</span>
<span class="w">    </span><span class="p">{}</span>

<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">z</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// bad - mixed initialization</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">Location</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Location</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="n">latitude</span><span class="p">(</span><span class="mi">1000</span><span class="p">),</span><span class="w"> </span><span class="n">longitude</span><span class="p">(</span><span class="mi">2000</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">latitude</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<span class="w">    </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">longitude</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>Rationale:</strong> When initialization is done both in NSDMI and the constructor’s initializer list it’s hard to read,
especially in cases where class members aren’t declared consecutively but spread across the
class definition. On the contrary, when initialization is done in one place (constructor) it’s easy to see what
is initialized with what.</p>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading"></a></h2>
<p>Using direct initialization is the least ambiguous in comparison with other ways to initialize
variables, objects, and data members.
If a variable is declared as <em>auto</em>, trying to initialize it with copy-initialization may be ambiguous and
confusing:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span><span class="w"> </span><span class="n">temperature</span><span class="p">{</span><span class="mf">36.6</span><span class="p">};</span><span class="w">      </span><span class="c1">// type of temperature is double, but</span>
<span class="k">auto</span><span class="w"> </span><span class="n">temperatureF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">97.88</span><span class="p">};</span><span class="w"> </span><span class="c1">// type of temperatureF is std::initializer_list&lt;double&gt;</span>
</pre></div>
</div>
<p><em>Copy-list-initialization</em> can differ from <em>direct-list-initialization</em>
depending on the C++ standard of the compiler and becomes consistent only starting from <em>C++20</em>, thus
<em>copy-list-initialization</em> should be avoided.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">answer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">42</span><span class="p">};</span><span class="w"> </span><span class="c1">// bad</span>
</pre></div>
</div>
<p>The way of initialization above <em>should not be used</em> both for behavior and appearance consistency.</p>
<ul class="simple">
<li><p><em>Direct initialization</em> / <em>direct-list-initialization</em> is the preferred way to initialize built-in type variables.</p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">answer</span><span class="p">{</span><span class="mi">42</span><span class="p">};</span><span class="w"> </span><span class="c1">// good</span>
</pre></div>
</div>
<ul class="simple">
<li><p><em>List initialization</em> is the preferred way to initialize trivial objects or containers, if possible.</p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Box</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Box</span><span class="p">();</span><span class="w">            </span><span class="c1">// bad: value initialization</span>
<span class="n">Box</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="w"> </span><span class="p">};</span><span class="w"> </span><span class="c1">// bad: initializer_list</span>
<span class="n">Box</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span><span class="w">               </span><span class="c1">// bad: causes undefined behavior under certain conditions</span>

<span class="n">Box</span><span class="w"> </span><span class="n">d</span><span class="p">{</span><span class="mi">1</span><span class="p">};</span><span class="w">                 </span><span class="c1">// bad: partial initialization / implicit initialization with zeros</span>
<span class="w">                          </span><span class="c1">//      of everything except for the first data member</span>

<span class="n">Box</span><span class="w"> </span><span class="n">d</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">};</span><span class="w">      </span><span class="c1">// good: all data members are initialized</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025 Accenture.</p>
  </div>

  <div role="footer_string">
    <p>Documentation from 2025-12-10 03:10:44, official build.</p>

    
      <a href="../../../../_sources/doc/dev/guidelines/conventions/initialization.rst.txt" rel="nofollow"> View page source</a>
    

  </div>

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>