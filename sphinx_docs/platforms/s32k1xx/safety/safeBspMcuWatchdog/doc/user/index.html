<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="EclipseOpenBSWDocumentation" name="dox_trace_storage" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>User Documentation &mdash; Eclipse OpenBSW Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../../../../_static/rtd_theme_overrides.css?v=6fd0d55b" />
      <link rel="stylesheet" type="text/css" href="../../../../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../../../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../../../../../_static/colors.css?v=3cafd8aa" />
      <link rel="stylesheet" type="text/css" href="../../../../../../_static/colored_table.css?v=34b816d5" />
      <link rel="stylesheet" type="text/css" href="../../../../../../_static/header.css?v=e632285e" />
      <link rel="stylesheet" type="text/css" href="../../../../../../_static/dox_util_colors.css?v=dd14b177" />
      <link rel="stylesheet" type="text/css" href="../../../../../../_static/dox_trace.css?v=60d3f72c" />

  
  <!--[if lt IE 9]>
    <script src="../../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../../../../_static/copybutton.js?v=f281be69"></script>
        <script src="../../../../../../_static/dox_trace.js?v=40719b51"></script>
    <script src="../../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />
    <link rel="next" title="Executables" href="../../../../../../doc/dev/modules/executables.html" />
    <link rel="prev" title="safeBspMcuWatchdog" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../../doc/dev/index.html" class="icon icon-home">
            Eclipse OpenBSW Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/learning/overview.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/learning/SysTest/HW_Testing_Guide.html">Hardware Testing Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guidelines</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/guidelines/conventions/index.html">Coding Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/guidelines/practices.html">Coding Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/guidelines/formatting/index.html">Formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/guidelines/unittests.html">Unit Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/guidelines/module.html">Module Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/guidelines/documentation.html">Module Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/guidelines/diagrams.html">Diagrams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/guidelines/3rdparty.html">Third Party Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/guidelines/commit_message.html">Commit Message</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/guidelines/pull_request.html">Pull Request</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/platforms/posix/index.html">POSIX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/platforms/s32k148evb/index.html">S32K148 Evaluation Board</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/features/storage.html">Persistent Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/features/functional_safety.html">Functional Safety</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software Modules</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/modules/common.html">Common</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/modules/posix.html">Posix</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../../../doc/dev/modules/s32k1xx.html">S32K1xx</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../../../doc/dev/modules/s32k1xx.html#bsw">BSW</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../doc/dev/modules/s32k1xx.html#bsp">BSP</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../../../../doc/dev/modules/s32k1xx.html#safety">Safety</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">safeBspMcuWatchdog</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">User Documentation</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#public-api">Public API</a></li>
<li class="toctree-l5"><a class="reference internal" href="#fast-testing-of-watchdog">Fast Testing of Watchdog</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/modules/executables.html">Executables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../doc/dev/modules/mocks.html">Mocks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../tools/UdsTool/doc/index.html">UdsTool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../tools/puncover_tool/doc/index.html">Puncover</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../doc/dev/index.html">Eclipse OpenBSW Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../../doc/dev/index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../../../../doc/dev/modules/s32k1xx.html">S32K1xx</a> &raquo;</li>
        
          <li><a href="../index.html">safeBspMcuWatchdog</a> &raquo;</li>
        
        <li>User Documentation</li>
    

    

      <li class="wy-breadcrumbs-aside">

        <!-- DOCUMENT STATUS -->

        

        <!-- DATA CLASSIFICATION -->

        

      </li>

    
  </ul>

  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="user-documentation">
<h1>User Documentation<a class="headerlink" href="#user-documentation" title="Link to this heading"></a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">Watchdog</span></code> class provides the S32K1xx Watchdog API.</p>
<section id="public-api">
<h2>Public API<a class="headerlink" href="#public-api" title="Link to this heading"></a></h2>
<p>The public API of <code class="docutils literal notranslate"><span class="pre">Watchdog</span></code> class consists of following constructors and methods:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/**</span>
 <span class="o">*</span> <span class="n">Default</span> <span class="n">constructor</span> <span class="p">(</span><span class="n">disables</span> <span class="n">the</span> <span class="n">watchdog</span><span class="p">)</span>
 <span class="o">*/</span>
<span class="n">Watchdog</span><span class="p">()</span> <span class="p">{</span> <span class="n">disableWatchdog</span><span class="p">();</span> <span class="p">}</span>

<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Constructor</span> <span class="p">(</span><span class="n">starts</span> <span class="n">the</span> <span class="n">watchdog</span><span class="p">)</span>
 <span class="o">*</span> \<span class="n">param</span><span class="p">[</span><span class="ow">in</span><span class="p">]</span> <span class="n">timeout</span> <span class="n">Watchdog</span> <span class="n">timeout</span> <span class="ow">in</span> <span class="n">milliseconds</span>
 <span class="o">*</span> \<span class="n">param</span><span class="p">[</span><span class="ow">in</span><span class="p">]</span> <span class="n">clockSpeed</span> <span class="n">Speed</span> <span class="n">of</span> <span class="n">WDOG</span> <span class="nb">input</span> <span class="n">clock</span> <span class="ow">in</span> <span class="n">hertz</span>
 <span class="o">*/</span>
<span class="n">explicit</span> <span class="n">Watchdog</span><span class="p">(</span><span class="n">uint32_t</span> <span class="n">const</span> <span class="n">timeout</span><span class="p">,</span> <span class="n">uint32_t</span> <span class="n">const</span> <span class="n">clockSpeed</span> <span class="o">=</span> <span class="n">DEFAULT_CLOCK_SPEED</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">enableWatchdog</span><span class="p">(</span><span class="n">timeout</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">clockSpeed</span><span class="p">);</span>
<span class="p">}</span>

<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Enables</span> <span class="n">the</span> <span class="n">watchdog</span>
 <span class="o">*</span> \<span class="n">param</span><span class="p">[</span><span class="ow">in</span><span class="p">]</span> <span class="n">timeout</span> <span class="n">Watchdog</span> <span class="n">timeout</span> <span class="ow">in</span> <span class="n">milliseconds</span>
 <span class="o">*</span> \<span class="n">param</span><span class="p">[</span><span class="ow">in</span><span class="p">]</span> <span class="n">interruptActive</span> <span class="n">Activates</span> <span class="n">the</span> <span class="n">Watchdog</span> <span class="n">interrupt</span> <span class="n">WDOG_EWM_IRQn</span>
 <span class="o">*</span> \<span class="n">param</span><span class="p">[</span><span class="ow">in</span><span class="p">]</span> <span class="n">clockSpeed</span> <span class="n">Speed</span> <span class="n">of</span> <span class="n">WDOG</span> <span class="nb">input</span> <span class="n">clock</span> <span class="ow">in</span> <span class="n">hertz</span>
 <span class="o">*/</span>
<span class="n">static</span> <span class="n">void</span> <span class="n">enableWatchdog</span><span class="p">(</span>
    <span class="n">uint32_t</span> <span class="n">const</span> <span class="n">timeout</span><span class="p">,</span>
    <span class="nb">bool</span> <span class="n">const</span> <span class="n">interruptActive</span> <span class="o">=</span> <span class="n">false</span><span class="p">,</span>
    <span class="n">uint32_t</span> <span class="n">const</span> <span class="n">clockSpeed</span>  <span class="o">=</span> <span class="n">DEFAULT_CLOCK_SPEED</span><span class="p">);</span>
<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Disables</span> <span class="n">the</span> <span class="n">watchdog</span>
 <span class="o">*/</span>
<span class="n">static</span> <span class="n">void</span> <span class="n">disableWatchdog</span><span class="p">();</span>
<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Services</span> <span class="n">the</span> <span class="n">watchdog</span>
 <span class="o">*/</span>
<span class="n">static</span> <span class="n">void</span> <span class="n">serviceWatchdog</span><span class="p">();</span>
<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Check</span> <span class="n">that</span> <span class="n">the</span> <span class="n">configuration</span> <span class="n">of</span> <span class="n">the</span> <span class="n">watchdog</span> <span class="k">as</span> <span class="nb">set</span> <span class="n">when</span> <span class="n">enables</span> <span class="n">has</span> <span class="ow">not</span> <span class="n">been</span> <span class="n">changed</span>
 <span class="o">*</span> \<span class="n">param</span><span class="p">[</span><span class="ow">in</span><span class="p">]</span> <span class="n">timeout</span> <span class="n">Watchdog</span> <span class="n">timeout</span> <span class="ow">in</span> <span class="n">milliseconds</span>
 <span class="o">*</span> \<span class="n">param</span><span class="p">[</span><span class="ow">in</span><span class="p">]</span> <span class="n">clockSpeed</span> <span class="n">Speed</span> <span class="n">of</span> <span class="n">WDOG</span> <span class="nb">input</span> <span class="n">clock</span> <span class="ow">in</span> <span class="n">hertz</span>
 <span class="o">*/</span>
<span class="n">static</span> <span class="nb">bool</span> <span class="n">checkWatchdogConfiguration</span><span class="p">(</span>
    <span class="n">uint32_t</span> <span class="n">const</span> <span class="n">timeout</span><span class="p">,</span> <span class="n">uint32_t</span> <span class="n">const</span> <span class="n">clockSpeed</span> <span class="o">=</span> <span class="n">DEFAULT_CLOCK_SPEED</span><span class="p">);</span>
<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Start</span> <span class="n">testing</span> <span class="n">the</span> <span class="n">low</span> <span class="n">byte</span> <span class="n">of</span> <span class="n">the</span> <span class="n">counter</span><span class="o">.</span> <span class="n">If</span> <span class="n">the</span> <span class="n">test</span> <span class="ow">is</span> <span class="n">successful</span> <span class="n">the</span> <span class="n">WD</span> <span class="n">will</span> <span class="n">trigger</span> <span class="n">an</span>
 <span class="o">*</span> <span class="n">Ecu</span> <span class="n">Reset</span>
 <span class="o">*/</span>
<span class="n">static</span> <span class="n">void</span> <span class="n">startFastTestLow</span><span class="p">();</span>
<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Start</span> <span class="n">testing</span> <span class="n">the</span> <span class="n">high</span> <span class="n">byte</span> <span class="n">of</span> <span class="n">the</span> <span class="n">counter</span><span class="o">.</span> <span class="n">If</span> <span class="n">the</span> <span class="n">test</span> <span class="ow">is</span> <span class="n">successful</span> <span class="n">the</span> <span class="n">WD</span> <span class="n">will</span> <span class="n">trigger</span> <span class="n">an</span>
 <span class="o">*</span> <span class="n">Ecu</span> <span class="n">Reset</span>
 <span class="o">*/</span>
<span class="n">static</span> <span class="n">void</span> <span class="n">startFastTestHigh</span><span class="p">();</span>
<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Execute</span> <span class="n">the</span> <span class="n">WD</span> <span class="n">fast</span> <span class="n">test</span><span class="o">.</span> <span class="n">On</span> <span class="n">first</span> <span class="n">call</span> <span class="n">this</span> <span class="n">will</span> <span class="n">trigger</span> <span class="n">the</span> <span class="n">test</span> <span class="k">for</span> <span class="n">the</span> <span class="n">low</span> <span class="n">byte</span><span class="p">,</span> <span class="n">then</span> <span class="n">on</span>
 <span class="o">*</span> <span class="n">second</span> <span class="n">call</span> <span class="n">it</span> <span class="n">will</span> <span class="n">trigger</span> <span class="n">the</span> <span class="n">test</span> <span class="k">for</span> <span class="n">the</span> <span class="n">high</span> <span class="n">byte</span> <span class="n">of</span> <span class="n">the</span> <span class="n">counter</span><span class="o">.</span>
 <span class="o">*</span> <span class="n">Afterwards</span> <span class="n">it</span> <span class="n">should</span> <span class="n">always</span> <span class="k">return</span> <span class="n">true</span><span class="p">,</span> <span class="n">indicating</span> <span class="n">that</span> <span class="n">the</span> <span class="n">WD</span> <span class="n">test</span> <span class="n">was</span> <span class="n">successful</span><span class="o">.</span>
 <span class="o">*</span>
 <span class="o">*</span> \<span class="n">param</span> <span class="n">timeout</span> <span class="n">delay</span> <span class="k">for</span> <span class="n">the</span> <span class="n">watchdog</span> <span class="n">to</span> <span class="n">timeout</span>
 <span class="o">*</span>
 <span class="o">*</span> \<span class="k">return</span>
 <span class="o">*</span> <span class="o">-</span> <span class="n">false</span> <span class="o">=</span> <span class="n">the</span> <span class="n">check</span> <span class="n">was</span> <span class="n">started</span><span class="p">,</span> <span class="n">but</span> <span class="n">it</span> <span class="n">was</span> <span class="n">unsuccessful</span>
 <span class="o">*</span> <span class="o">-</span> <span class="n">true</span> <span class="o">=</span> <span class="n">the</span> <span class="n">check</span> <span class="n">executed</span> <span class="n">successfully</span> <span class="n">since</span> <span class="n">the</span> <span class="n">last</span> <span class="n">power</span><span class="o">-</span><span class="n">on</span> <span class="n">reset</span><span class="p">,</span> <span class="n">no</span> <span class="n">further</span> <span class="n">check</span> <span class="ow">is</span>
 <span class="o">*</span>          <span class="n">needed</span> <span class="k">for</span> <span class="n">this</span> <span class="n">cycle</span>
 <span class="o">*</span> <span class="o">-</span> <span class="n">does</span> <span class="ow">not</span> <span class="k">return</span> <span class="o">=</span> <span class="n">the</span> <span class="n">check</span> <span class="n">was</span> <span class="n">started</span> <span class="ow">and</span> <span class="n">watchdog</span> <span class="n">has</span> <span class="n">reset</span> <span class="n">the</span> <span class="n">ECU</span> <span class="k">as</span> <span class="n">expected</span>
 <span class="o">*/</span>
<span class="n">static</span> <span class="nb">bool</span> <span class="n">executeFastTest</span><span class="p">(</span><span class="n">uint32_t</span> <span class="n">timeout</span><span class="p">);</span>
<span class="o">/**</span>
 <span class="o">*</span> <span class="n">After</span> <span class="n">a</span> <span class="n">successful</span> <span class="n">fast</span> <span class="n">test</span> <span class="n">the</span> <span class="n">WD</span> <span class="n">can</span> <span class="n">be</span> <span class="nb">set</span> <span class="ow">in</span> <span class="n">user</span> <span class="n">mode</span> <span class="n">where</span> <span class="n">CS</span><span class="p">[</span><span class="n">TST</span><span class="p">]</span><span class="o">==</span><span class="mi">01</span>
 <span class="o">*/</span>
<span class="n">static</span> <span class="n">void</span> <span class="n">setUserMode</span><span class="p">();</span>
<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Returns</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">times</span> <span class="n">the</span> <span class="n">watchdog</span> <span class="n">has</span> <span class="n">been</span> <span class="n">serviced</span>
 <span class="o">*/</span>
<span class="n">static</span> <span class="n">uint32_t</span> <span class="n">getWatchdogServiceCounter</span><span class="p">();</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">startFastTestLow</span></code> method starts the fast testing of low byte of the watchdog counter,
The watchdog timeout value is set in the TOVAL register. The low byte of the counter is selected
for testing, by assigning 10b to the control and status register test bits i.e CS[TST] = 10b.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">startFastTestHigh</span></code> method starts the fast testing of high byte of the watchdog counter,
The watchdog timeout value is set in the TOVAL register. The high byte of the counter is selected
for testing, by assigning 11b to the control and status register test bits i.e CS[TST] = 11b.</p>
</section>
<section id="fast-testing-of-watchdog">
<h2>Fast Testing of Watchdog<a class="headerlink" href="#fast-testing-of-watchdog" title="Link to this heading"></a></h2>
<p>The fast test is implemented according to the safety reference manual
(Chapter 5.6.9.2: Fast testing of the watchdog, S32K1xx Series Safety Manual, Rev. 7.1, 12/2021).
This means the high and low byte are tested separately, one after the other.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025 Accenture.</p>
  </div>

  <div role="footer_string">
    <p>Documentation from 2025-12-10 03:10:47, official build.</p>

    
      <a href="../../../../../../_sources/platforms/s32k1xx/safety/safeBspMcuWatchdog/doc/user/index.rst.txt" rel="nofollow"> View page source</a>
    

  </div>

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>